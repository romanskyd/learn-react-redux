(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,a,t){},193:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"loadWeatherByListIds",function(){return A}),t.d(n,"loadForecast5DaysById",function(){return k}),t.d(n,"loadSearchedById",function(){return D});var o={};t.r(o),t.d(o,"weather",function(){return C}),t.d(o,"loading",function(){return T}),t.d(o,"forecast",function(){return B});var r=t(0),c=t.n(r),l=t(24),i=t.n(l),d=t(25),u=t(8),s=t(9),m=t(69),y=t(64),h=t(10),p=t(70),f=t(5),E=function(e){var a=parseInt(e.weather.main.temp),t="https://openweathermap.org/img/w/".concat(e.weather.weather[0].icon,".png");return c.a.createElement("div",{className:"col-sm-6 col-md-6 col-lg-3 mb15"},c.a.createElement("div",{className:"weather-card"},c.a.createElement("div",{className:"weather-card__city"},e.weather.name,c.a.createElement("span",{className:"weather-card__country"},e.weather.sys.country)),c.a.createElement("div",{className:"weather-card__temp"},c.a.createElement("img",{src:t,alt:e.weather.weather[0].main,title:e.weather.weather[0].description}),a," \xb0C"),c.a.createElement("div",{className:"weather-card__options"},c.a.createElement("div",{className:"weather-card__options-row"},c.a.createElement("div",null,c.a.createElement("span",{className:"weather-card__option-name"},"Clouds: "),e.weather.clouds.all,"%"),"\xa0\xa0",c.a.createElement("div",null,c.a.createElement("span",{className:"weather-card__option-name"},"Pressure: "),parseInt(e.weather.main.pressure)," hpa")),c.a.createElement("div",{className:"weather-card__options-row"},c.a.createElement("div",null,c.a.createElement("span",{className:"weather-card__option-name"},"Wind: "),e.weather.wind.speed," mps"),c.a.createElement("div",null,c.a.createElement("span",{className:"weather-card__option-name"},"Humidity: "),e.weather.main.humidity," %"))),c.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){e.getForecast(e.weather.id)}},"Load forecast")))},b=t(65),v=function(e){var a={labels:e.forecast.list.map(function(e){return e.dt_txt}),datasets:[{label:"temp",backgroundColor:"rgba(255, 255, 255, 0)",borderColor:"rgb(255, 99, 132)",data:e.forecast.list.map(function(e){return{x:1e3*e.dt,y:e.main.temp}})}]},t={title:{display:!0,text:"5 day weather forecast in "+e.forecast.city.name},legend:{display:!1,labels:{padding:0}},scales:{xAxes:[{type:"time",time:{unit:"day"}}]},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"";return t&&(t+=": "),t+=Math.round(10*e.yLabel)/10,t+=" \xb0C",t}}}};return c.a.createElement("div",{className:"col animated fadeInUp"},c.a.createElement("div",{className:"weather-forecast"},c.a.createElement("div",{className:"weather-forecast__chart"},c.a.createElement(b.a,{data:a,height:300,options:t,width:0}))))},w=function(e){return c.a.createElement("div",{className:"col mb20"},c.a.createElement("div",{className:"input-group search-panel"},c.a.createElement("input",{type:"text",id:"search-input",onChange:function(a){e.handler(a.target.value)},onFocus:function(){document.getElementById("search-input").value=""},className:"form-control",placeholder:"Enter city name... (Search in demo mode, without api)","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}),c.a.createElement("ul",{className:"list-group list-group-flush search-panel__item-list"},e.items.map(function(a){return c.a.createElement("li",{className:"list-group-item",key:a.id,onClick:(t=a.id,n=a.name,function(){e.selectHandler(t),document.getElementById("search-input").value=n})},a.name," (",a.country,")");var t,n}))))},g=t(16),N=t.n(g),R={appId:"241b1e20275056594402b6f674110732"},I=new(function(){function e(){Object(u.a)(this,e),this.appId=R.appId}return Object(s.a)(e,[{key:"byName",value:function(e){return N.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=").concat(this.appId)).then(function(e){return e.data})}},{key:"byId",value:function(e){return N.a.get("https://api.openweathermap.org/data/2.5/weather?id=".concat(e,"&units=metric&appid=").concat(this.appId)).then(function(e){return e.data})}},{key:"byListIds",value:function(e){return N.a.get("https://api.openweathermap.org/data/2.5/group?id=".concat(e,"&units=metric&appid=").concat(this.appId)).then(function(e){return e.data})}},{key:"forecast5DaysById",value:function(e){return N.a.get("https://api.openweathermap.org/data/2.5/forecast?id=".concat(e,"&units=metric&appid=").concat(this.appId)).then(function(e){return e.data})}}]),e}());function A(e){return function(a){a({type:"LOADING_START"}),I.byListIds(e).then(function(e){a({type:"LOADING_END"}),a({type:"WEATHER_LIST_LOADED",data:e})})}}function k(e){return function(a){a({type:"LOADING_START"}),I.forecast5DaysById(e).then(function(e){a({type:"LOADING_END"}),a({type:"FORECAST_5_DAYS_LOADED",data:e})})}}function D(e){return function(a){a({type:"LOADING_START"}),I.byId(e).then(function(e){a({type:"LOADING_END"}),a({type:"WEATHER_SEARCHED_ADD",data:e})})}}var _={searchedListSize:7,itemsOnPage:4},S=new(function(){function e(){Object(u.a)(this,e),this.consts=_,this.cities=[{id:707860,name:"Hurzuf",country:"UA",coord:{lon:34.283333,lat:44.549999}},{id:519188,name:"Novinki",country:"RU",coord:{lon:37.666668,lat:55.683334}},{id:1283378,name:"Gorkh\u0101",country:"NP",coord:{lon:84.633331,lat:28}},{id:1270260,name:"State of Hary\u0101na",country:"IN",coord:{lon:76,lat:29}},{id:708546,name:"Holubynka",country:"UA",coord:{lon:33.900002,lat:44.599998}},{id:1283710,name:"B\u0101gmat\u012b Zone",country:"NP",coord:{lon:85.416664,lat:28}},{id:529334,name:"Mar\u2019ina Roshcha",country:"RU",coord:{lon:37.611111,lat:55.796391}},{id:1269750,name:"Republic of India",country:"IN",coord:{lon:77,lat:20}},{id:1283240,name:"Kathmandu",country:"NP",coord:{lon:85.316666,lat:27.716667}},{id:703363,name:"Laspi",country:"UA",coord:{lon:33.733334,lat:44.416668}},{id:3632308,name:"Merida",country:"VE",coord:{lon:-71.144997,lat:8.598333}},{id:473537,name:"Vinogradovo",country:"RU",coord:{lon:38.545555,lat:55.423332}},{id:384848,name:"Qarah Gawl al \u2018Uly\u0101",country:"IQ",coord:{lon:45.6325,lat:35.353889}},{id:569143,name:"Cherkizovo",country:"RU",coord:{lon:37.728889,lat:55.800835}},{id:713514,name:"Alupka",country:"UA",coord:{lon:34.049999,lat:44.416668}},{id:2878044,name:"Lichtenrade",country:"DE",coord:{lon:13.40637,lat:52.398441}},{id:464176,name:"Zavety Il\u2019icha",country:"RU",coord:{lon:37.849998,lat:56.049999}},{id:295582,name:"\u2018Azriqam",country:"IL",coord:{lon:34.700001,lat:31.75}},{id:1271231,name:"Gh\u016bra",country:"IN",coord:{lon:79.883331,lat:24.766666}},{id:690856,name:"Tyuzler",country:"UA",coord:{lon:34.083332,lat:44.466667}},{id:464737,name:"Zaponor\u2019ye",country:"RU",coord:{lon:38.861942,lat:55.639999}},{id:707716,name:"Il\u2019ich\xebvka",country:"UA",coord:{lon:34.383331,lat:44.666668}},{id:697959,name:"Partyzans\u2019ke",country:"UA",coord:{lon:34.083332,lat:44.833332}},{id:803611,name:"Yurevichi",country:"RU",coord:{lon:39.934444,lat:43.600555}},{id:614371,name:"Gumist\u2019a",country:"GE",coord:{lon:40.973888,lat:43.026943}},{id:874560,name:"Ptitsefabrika",country:"GE",coord:{lon:40.290558,lat:43.183613}},{id:874652,name:"Orekhovo",country:"GE",coord:{lon:40.146111,lat:43.351391}},{id:2347078,name:"Birim",country:"NG",coord:{lon:9.997027,lat:10.062094}},{id:2051302,name:"Priiskovyy",country:"RU",coord:{lon:132.822495,lat:42.819168}},{id:563692,name:"Dzhaga",country:"RU",coord:{lon:42.650002,lat:43.25}},{id:481725,name:"Tret\u2019ya Rota",country:"RU",coord:{lon:39.681389,lat:43.741943}},{id:2638976,name:"Ruislip",country:"GB",coord:{lon:-.42341,lat:51.573441}},{id:2892705,name:"Karow",country:"DE",coord:{lon:13.48117,lat:52.609039}},{id:2922336,name:"Gatow",country:"DE",coord:{lon:13.18285,lat:52.483238}},{id:975511,name:"Mkuze",country:"ZA",coord:{lon:32.038609,lat:-27.616409}},{id:1280737,name:"Lhasa",country:"CN",coord:{lon:91.099998,lat:29.65}},{id:745042,name:"\u0130stanbul",country:"TR",coord:{lon:28.983311,lat:41.03508}},{id:3496831,name:"Mao",country:"DO",coord:{lon:-71.078133,lat:19.551861}},{id:2017370,name:"Russian Federation",country:"RU",coord:{lon:100,lat:60}},{id:2045761,name:"De-Friz",country:"RU",coord:{lon:131.991394,lat:43.27861}},{id:1257986,name:"Rumbak",country:"IN",coord:{lon:77.416664,lat:34.049999}},{id:476350,name:"Vavibet",country:"RU",coord:{lon:34.916668,lat:67.933334}},{id:1343e3,name:"Surtag\u0101n Chib",country:"PK",coord:{lon:64.656113,lat:26.474443}},{id:456169,name:"R\u012bgas Rajons",country:"LV",coord:{lon:24.333332,lat:57}},{id:475279,name:"Verkhneye Shchekotikhino",country:"RU",coord:{lon:36.133331,lat:53}},{id:711349,name:"Bucha",country:"UA",coord:{lon:30.366671,lat:50.583328}},{id:798544,name:"Republic of Poland",country:"PL",coord:{lon:20,lat:52}},{id:3094325,name:"Kuchary",country:"PL",coord:{lon:19.383329,lat:52.150002}},{id:6255149,name:"North America",country:"",coord:{lon:-100.546883,lat:46.073231}},{id:3575514,name:"Brumaire",country:"KN",coord:{lon:-62.73333,lat:17.299999}},{id:1861387,name:"Ishikawa-ken",country:"JP",coord:{lon:136.770493,lat:36.77145}},{id:1857578,name:"Matoba",country:"JP",coord:{lon:133.949997,lat:34.25}},{id:1299298,name:"Pya",country:"MM",coord:{lon:95.599998,lat:21.51667}},{id:3256023,name:"Kalanac",country:"BA",coord:{lon:18.78389,lat:44.86861}},{id:2921044,name:"Federal Republic of Germany",country:"DE",coord:{lon:10.5,lat:51.5}},{id:2861876,name:"Land Nordrhein-Westfalen",country:"DE",coord:{lon:7,lat:51.5}},{id:802899,name:"Mutaykutan",country:"RU",coord:{lon:47.660641,lat:42.818859}},{id:523523,name:"Nalchik",country:"RU",coord:{lon:43.618889,lat:43.498058}},{id:546448,name:"Kolganov",country:"RU",coord:{lon:40.066669,lat:44.366669}},{id:500023,name:"Rybatskiy",country:"RU",coord:{lon:44.166389,lat:44.799171}},{id:2207349,name:"Bellara",country:"AU",coord:{lon:153.149597,lat:-27.063919}},{id:7870412,name:"Bartlett",country:"ZA",coord:{lon:28.25263,lat:-26.17061}},{id:961935,name:"Rietfontein",country:"ZA",coord:{lon:29.200001,lat:-25.5}},{id:3371200,name:"Hardap",country:"NA",coord:{lon:17.25,lat:-24.5}},{id:1016666,name:"Botswana",country:"ZA",coord:{lon:30.533331,lat:-24.33333}},{id:3858204,name:"El Destierro",country:"AR",coord:{lon:-62.47662,lat:-24.1}},{id:4070245,name:"Jones Crossroads",country:"US",coord:{lon:-85.484657,lat:31.21073}},{id:4344544,name:"Vernon Parish",country:"US",coord:{lon:-93.183502,lat:31.11685}},{id:4215307,name:"Pennick",country:"US",coord:{lon:-81.55899,lat:31.313}},{id:5285039,name:"Black Bear Spring",country:"US",coord:{lon:-110.288139,lat:31.386209}},{id:4673179,name:"Bee House",country:"US",coord:{lon:-98.081139,lat:31.40266}},{id:6078447,name:"Morden",country:"CA",coord:{lon:-98.101357,lat:49.191898}},{id:2201316,name:"Nasirotu",country:"FJ",coord:{lon:178.25,lat:-18.033331}},{id:1938756,name:"Sisali",country:"ID",coord:{lon:124.531387,lat:-9.19167}},{id:2009359,name:"Puntan",country:"ID",coord:{lon:110.553329,lat:-7.51944}},{id:2566086,name:"Tsi\xe9m\xe9-Mandi\xe9l\xe9",country:"CG",coord:{lon:15.2875,lat:-4.22694}},{id:154733,name:"Masama",country:"TZ",coord:{lon:37.183331,lat:-3.23333}},{id:1630349,name:"Purukcahu",country:"ID",coord:{lon:114.583328,lat:-.58333}},{id:2224928,name:"N\xe9m\xe9yong II",country:"CM",coord:{lon:13.5,lat:2.91667}},{id:6716279,name:"Pondok Genteng",country:"ID",coord:{lon:99.0709,lat:3.2245}},{id:2384618,name:"Mbongot\xe9",country:"CF",coord:{lon:18.283331,lat:4.25}},{id:378867,name:"Amiling",country:"SS",coord:{lon:32.355831,lat:4.19417}},{id:2230362,name:"K\xe9lkoto",country:"CM",coord:{lon:11.16667,lat:4.43333}},{id:343846,name:"Angetu",country:"ET",coord:{lon:39.48333,lat:6.33333}},{id:370366,name:"Massa",country:"SD",coord:{lon:29.466669,lat:10.98333}},{id:365618,name:"Tumko",country:"SD",coord:{lon:24.6,lat:12.01667}},{id:524894,name:"Moskva",country:"RU",coord:{lon:37.606667,lat:55.761665}},{id:1861060,name:"Japan",country:"JP",coord:{lon:139.753098,lat:35.68536}},{id:2130037,name:"Hokkaid\u014d",country:"JP",coord:{lon:141.346603,lat:43.06451}},{id:6199126,name:"Sanggrahan",country:"ID",coord:{lon:110.246109,lat:-7.46056}},{id:6388445,name:"Karangmangle",country:"ID",coord:{lon:109.0075,lat:-7.43028}},{id:494806,name:"Sheremetyevskiy",country:"RU",coord:{lon:37.491112,lat:55.98}},{id:467104,name:"Yershovo",country:"RU",coord:{lon:36.858055,lat:55.771111}},{id:462352,name:"Znamenka",country:"RU",coord:{lon:35.981392,lat:52.896671}},{id:2267057,name:"Lisbon",country:"PT",coord:{lon:-9.13333,lat:38.716671}},{id:3082707,name:"Walbrzych",country:"PL",coord:{lon:16.284321,lat:50.771412}},{id:3091150,name:"Naklo nad Notecia",country:"PL",coord:{lon:17.60181,lat:53.142139}},{id:1784658,name:"Zhengzhou",country:"CN",coord:{lon:113.648613,lat:34.757778}},{id:7301040,name:"Tonyrefail",country:"GB",coord:{lon:-3.41503,lat:51.580238}},{id:1348747,name:"Bankra",country:"IN",coord:{lon:88.298058,lat:22.627501}},{id:6255148,name:"Europe",country:"",coord:{lon:9.140625,lat:48.69096}},{id:524925,name:"Moskovskaya Oblast\u2019",country:"RU",coord:{lon:37.628334,lat:55.75639}},{id:4047656,name:"Provo",country:"US",coord:{lon:-94.107697,lat:34.037609}},{id:5493998,name:"Tejon",country:"US",coord:{lon:-105.28611,lat:34.58979}},{id:1463749,name:"Guliston",country:"UZ",coord:{lon:65.518929,lat:38.510029}},{id:749184,name:"Ciciler",country:"TR",coord:{lon:30.063601,lat:40.442982}},{id:750594,name:"Bilmece",country:"TR",coord:{lon:36.150002,lat:41.150002}},{id:3113208,name:"Provincia de Pontevedra",country:"ES",coord:{lon:-8.5,lat:42.5}},{id:2653753,name:"Carmarthenshire",country:"GB",coord:{lon:-4.16667,lat:51.833328}}]}return Object(s.a)(e,[{key:"searchByName",value:function(e){if(e){var a=new RegExp("^"+e.trim());return this.cities.filter(function(e){return a.test(e.name.toLowerCase())}).slice(0,this.consts.searchedListSize)}return[]}}]),e}()),O=function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(m.a)(this,Object(y.a)(a).call(this,e))).handleClick=t.handleClick.bind(Object(h.a)(t)),t.handleSearchInput=t.handleSearchInput.bind(Object(h.a)(t)),t.handleSelectedCity=t.handleSelectedCity.bind(Object(h.a)(t)),t.items=[],t.state={searched:[]},t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"handleClick",value:function(e){this.props.actions.loadForecast5DaysById(e)}},{key:"handleSearchInput",value:function(e){this.setState({searched:S.searchByName(e)})}},{key:"handleSelectedCity",value:function(e){this.setState({searched:[]}),this.props.actions.loadSearchedById(e)}},{key:"componentWillMount",value:function(){this.props.actions.loadWeatherByListIds("524894,491422,1496747,498817")}},{key:"render",value:function(){var e=this,a=this.props.loading?c.a.createElement("div",{className:"loading"},c.a.createElement("div",{className:"spinner-border text-primary load-spinner",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))):"",t=this.props.weather.map(function(a){return c.a.createElement(E,{key:a.id,weather:a,getForecast:e.handleClick})}),n=this.props.forecast?c.a.createElement(v,{forecast:this.props.forecast}):"";return c.a.createElement("div",{className:"container app-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col mb20 mt20"},c.a.createElement("h1",null,"World weather demo"))),c.a.createElement("div",{className:"row"},c.a.createElement(w,{items:this.state.searched,handler:this.handleSearchInput,selectHandler:this.handleSelectedCity})),c.a.createElement("div",{className:"row"},t),c.a.createElement("div",{className:"row"},n),a)}}]),a}(r.Component),U=Object(d.b)(function(e){return{weather:e.weather,loading:e.loading,forecast:e.forecast}},function(e){return{actions:Object(f.bindActionCreators)(n,e)}})(O),L=t(13),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"WEATHER_LOADED":return[].concat(Object(L.a)(e),[a.data]);case"WEATHER_LIST_LOADED":return[].concat(Object(L.a)(e),Object(L.a)(a.data.list));case"WEATHER_SEARCHED_ADD":return e.length<_.itemsOnPage?[].concat(Object(L.a)(e),[a.data]):[].concat(Object(L.a)(e.slice(1)),[a.data]);case"WEATHER_LOAD_FAILTURE":return console.error("ERROR:",a.error),e;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch((arguments.length>1?arguments[1]:void 0).type){case"LOADING_START":return!0;case"LOADING_END":return!1;default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FORECAST_5_DAYS_LOADED":return a.data;case"FORECAST_LOAD_FAILTURE":return console.error("ERROR:",a.error),e;default:return e}},P=t(67),j=t(68),G=Object(f.combineReducers)(o),M=Object(f.createStore)(G,{weather:[],forecast:null,loading:!1},Object(j.composeWithDevTools)(Object(f.applyMiddleware)(P.a)));t(187),t(190),t(191),t(192);i.a.render(c.a.createElement(d.a,{store:M},c.a.createElement(U,null)),document.getElementById("root")),M.subscribe(function(){console.log("New state: ",M.getState())})},71:function(e,a,t){e.exports=t(193)}},[[71,1,2]]]);
//# sourceMappingURL=main.6312239a.chunk.js.map